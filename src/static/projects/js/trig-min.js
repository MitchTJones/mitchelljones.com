var clumps,startTime,cvs,ctx,clumpRows=3,clumpCols=5,nodeAmount=12,nodes=[],growthRate=-.05,initSize=5,speedFactor=.1,rand=1;function initClumps(){nodes=[];var o=getWinSize();for(clumpCols=Math.floor(o.x/240),clumpRows=Math.floor(o.y/212),clumps=clumpRows*clumpCols,r=0;r<clumpRows;r++)for(c=0;c<clumpCols;c++)for(nodes.push([]),n=0;n<nodeAmount;n++)nodes[c+r*clumpCols][n]=new Node((c+1)*o.x/(clumpCols+1),(r+1)*o.y/(clumpRows+1),initSize,getRandomColor())}function setup(o,n){cvs=o,ctx=n,initClumps(),startTime=(new Date).getTime()}function draw(){var o=((new Date).getTime()-startTime)/1e3,e=nodes[nodes.length-1][nodes[0].length-1].radius;for((e<Math.abs(growthRate)||e>5)&&(growthRate=-growthRate),i=0;i<nodes.length;i++)for(n=0;n<nodes[i].length;n++)nodes[i][n].setSpeed(speedFactor*(rand*Math.sin((o+n)*Math.PI/(nodeAmount/2))),speedFactor*Math.cos((o+n)*Math.PI/(nodeAmount/2))),nodes[i][n].move(),nodes[i][n].tick(),nodes[i][n].grow(growthRate)}init("canvas",setup,draw);